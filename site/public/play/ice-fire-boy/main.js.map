{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["const config: Phaser.Types.Core.GameConfig = {\n  type: Phaser.AUTO,\n  width: 800,\n  height: 600,\n  parent: 'game-container',\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  },\n  backgroundColor: '#1a1a2e',\n  scale: {\n    mode: Phaser.Scale.FIT,\n    autoCenter: Phaser.Scale.CENTER_BOTH\n  }\n};\n\nconst game = new Phaser.Game(config);\n\nlet playerIce: Phaser.Physics.Arcade.Image;\nlet playerFire: Phaser.Physics.Arcade.Image;\nlet platforms: Phaser.Physics.Arcade.Group;\nlet goalDoor: Phaser.Physics.Arcade.Image;\nlet gems: Phaser.Physics.Arcade.Group;\nlet lavaSpikes: Phaser.Physics.Arcade.Group;\nlet score: number = 0;\nlet scoreText: Phaser.GameObjects.Text;\nlet controlsText: Phaser.GameObjects.Text;\nlet keys: any;\n\nfunction preload(this: Phaser.Scene): void {\n  this.load.setBaseURL('build');\n  \n  this.load.image('platform', 'assets/platform.png');\n  this.load.image('ice-player', 'assets/ice-player.png');\n  this.load.image('fire-player', 'assets/fire-player.png');\n  this.load.image('goal-door', 'assets/goal-door.png');\n  this.load.image('ice-gem', 'assets/ice-gem.png');\n  this.load.image('fire-gem', 'assets/fire-gem.png');\n  this.load.image('lava-spikes', 'assets/lava-spikes.png');\n}\n\nfunction create(this: Phaser.Scene): void {\n  platforms = this.physics.add.staticGroup();\n  gems = this.physics.add.group({\n    immovable: true,\n    allowGravity: false\n  });\n  lavaSpikes = this.physics.add.staticGroup();\n\n  createLevel(this);\n\n  playerIce = this.physics.add.image(100, 450, 'ice-player')\n    .setCollideWorldBounds(true)\n    .setMaxVelocity(300, 300)\n    .setBounce(0.1);\n\n  playerFire = this.physics.add.image(150, 450, 'fire-player')\n    .setCollideWorldBounds(true)\n    .setMaxVelocity(300, 300)\n    .setBounce(0.1);\n\n  playerIce.setBounce(0.2);\n  playerFire.setBounce(0.2);\n\n  this.physics.add.collider(playerIce, platforms);\n  this.physics.add.collider(playerFire, platforms);\n  this.physics.add.collider(playerIce, gems, collectIceGem, null, this);\n  this.physics.add.collider(playerFire, gems, collectFireGem, null, this);\n  this.physics.add.collider(playerIce, lavaSpikes, hitLava, null, this);\n  this.physics.add.collider(playerFire, lavaSpikes, hitLava, null, this);\n\n  this.physics.add.overlap(playerIce, goalDoor, checkWin, null, this);\n  this.physics.add.overlap(playerFire, goalDoor, checkWin, null, this);\n\n  score = 0;\n  scoreText = this.add.text(16, 16, '\u5206\u6570\uFF1A0', {\n    fontSize: '24px',\n    color: '#ffffff',\n    fontFamily: 'Arial'\n  });\n\n  controlsText = this.add.text(16, 48, '\u51B0\uFF1AWASD | \u706B\uFF1A\u65B9\u5411\u952E', {\n    fontSize: '18px',\n    color: '#cccccc',\n    fontFamily: 'Arial'\n  });\n\n  keys = {\n    iceUp: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.W),\n    iceDown: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.S),\n    iceLeft: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.A),\n    iceRight: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.D),\n    fireUp: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.UP),\n    fireDown: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),\n    fireLeft: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),\n    fireRight: this.input.keyboard!.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\n  };\n}\n\nexport function update(this: Phaser.Scene): void {\n  if (!playerIce.active || !playerFire.active) return;\n\n  if (Phaser.Input.Keyboard.JustDown(keys.iceLeft)) {\n    playerIce.setVelocityX(-200);\n  } else if (Phaser.Input.Keyboard.JustDown(keys.iceRight)) {\n    playerIce.setVelocityX(200);\n  }\n\n  if (Phaser.Input.Keyboard.JustDown(keys.iceUp) && playerIce.body!.touching.down) {\n    playerIce.setVelocityY(-400);\n  }\n\n  if (Phaser.Input.Keyboard.JustDown(keys.fireLeft)) {\n    playerFire.setVelocityX(-200);\n  } else if (Phaser.Input.Keyboard.JustDown(keys.fireRight)) {\n    playerFire.setVelocityX(200);\n  }\n\n  if (Phaser.Input.Keyboard.JustDown(keys.fireUp) && playerFire.body!.touching.down) {\n    playerFire.setVelocityY(-400);\n  }\n}\n\nfunction createLevel(scene: Phaser.Scene): void {\n  scene.add.rectangle(400, 580, 800, 40, 0x1a1a2e);\n\n  createPlatform(scene, 200, 480, 200);\n  createPlatform(scene, 500, 480, 200);\n  createPlatform(scene, 350, 380, 150);\n  createPlatform(scene, 150, 280, 120);\n  createPlatform(scene, 550, 280, 120);\n  createPlatform(scene, 350, 180, 200);\n\n  goalDoor = scene.add.image(700, 100, 'goal-door');\n  scene.physics.add.existing(goalDoor, true);\n\n  for (let i = 0; i < 5; i++) {\n    let gem = gems.create(200 + i * 80, 150, 'ice-gem');\n    if (gem) {\n      gem.setBounce(0.3);\n      gem.setCollideWorldBounds(true);\n    }\n  }\n\n  for (let i = 0; i < 4; i++) {\n    let gem = gems.create(350 + i * 90, 350, 'fire-gem');\n    if (gem) {\n      gem.setBounce(0.3);\n      gem.setCollideWorldBounds(true);\n    }\n  }\n\n  let spike = lavaSpikes.create(350, 200, 'lava-spikes');\n  if (spike) {\n    spike.setImmovable(true);\n    spike.setOrigin(0.5, 1);\n  }\n}\n\nfunction createPlatform(scene: Phaser.Scene, x: number, y: number, width: number): void {\n  let platform = platforms.create(x, y, 'platform');\n  platform.setDisplaySize(width, 20);\n  platform.refreshBody();\n}\n\nfunction collectIceGem(player: Phaser.Physics.Arcade.Image, gem: Phaser.Physics.Arcade.Image): void {\n  gem.disableBody(true, true);\n  score += 10;\n  scoreText.setText('\u5206\u6570\uFF1A' + score);\n}\n\nfunction collectFireGem(player: Phaser.Physics.Arcade.Image, gem: Phaser.Physics.Arcade.Image): void {\n  gem.disableBody(true, true);\n  score += 10;\n  scoreText.setText('\u5206\u6570\uFF1A' + score);\n}\n\nfunction hitLava(player: Phaser.Physics.Arcade.Image, spike: Phaser.Physics.Arcade.Image): void {\n  player.disableBody(true, true);\n  this.physics.pause();\n  \n  this.add.text(400, 300, '\u6E38\u620F\u7ED3\u675F', {\n    fontSize: '48px',\n    color: '#ff0000',\n    fontStyle: 'bold',\n    fontFamily: 'Arial'\n  }).setOrigin(0.5);\n\n  this.add.text(400, 360, '\u6309 R \u91CD\u65B0\u5F00\u59CB', {\n    fontSize: '24px',\n    color: '#ffffff',\n    fontFamily: 'Arial'\n  }).setOrigin(0.5);\n\n  this.input.keyboard!.on('keydown-R', () => {\n    this.scene.restart();\n  });\n}\n\nfunction checkWin(player: Phaser.Physics.Arcade.Image, door: Phaser.Physics.Arcade.Image): void {\n  if (score >= 100) {\n    this.physics.pause();\n    \n    this.add.text(400, 300, '\u901A\u5173\u6210\u529F!', {\n      fontSize: '48px',\n      color: '#00ff00',\n      fontStyle: 'bold',\n      fontFamily: 'Arial'\n    }).setOrigin(0.5);\n\n    this.add.text(400, 360, '\u5206\u6570\uFF1A' + score, {\n      fontSize: '28px',\n      color: '#ffffff',\n      fontFamily: 'Arial'\n    }).setOrigin(0.5);\n\n    this.add.text(400, 410, '\u6309 R \u91CD\u65B0\u5F00\u59CB', {\n      fontSize: '24px',\n      color: '#cccccc',\n      fontFamily: 'Arial'\n    }).setOrigin(0.5);\n\n    this.input.keyboard!.on('keydown-R', () => {\n      this.scene.restart();\n    });\n  }\n}"],
  "mappings": "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",
  "names": []
}
